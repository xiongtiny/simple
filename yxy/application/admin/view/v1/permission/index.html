{extend name="v1/public:base" /}

{block name="style"}
<!-- 编辑页面style -->
{/block}
{block name="main"}

<div class="main-content">
	<div class="breadcrumbs" id="breadcrumbs">
		<script type="text/javascript">
            try{ace.settings.check('breadcrumbs' , 'fixed')}catch(e){}
		</script>

		<ul class="breadcrumb">
			<li>
				<i class="icon-home home-icon"></i>
				<a href="#">首页</a>
			</li>

			<li>
				<a href="#">权限管理</a>
			</li>
			<!-- <li class="active">我的权限</li> -->
		</ul><!-- .breadcrumb -->

		<div class="nav-search" id="nav-search">
			<form class="form-search">
								<span class="input-icon">
									<input type="text" placeholder="Search ..." class="nav-search-input" id="nav-search-input" autocomplete="off" />
									<i class="icon-search nav-search-icon"></i>
								</span>
			</form>
		</div><!-- #nav-search -->
	</div>

	<div class="page-content">
		<div class="page-header">
			<h1>
				权限管理
				<small>
					<i class="icon-double-angle-right"></i>
					Student &amp; Tables
				</small>
			</h1>
		</div><!-- /.page-header -->
		<div class="page-header">
			<a href="/admin/v1/permission/add"><button class="btn btn-primary">新增权限</button></a>
		</div>

		<div class="row">
			<div class="col-xs-12">
				<div class="table-responsive">
					<table id="sample-table-1" class="table table-striped table-bordered table-hover">
						<thead>
						<tr>
							<th class="center">
								<label>
									<input type="checkbox" class="ace" />
									<span class="lbl"></span>
								</label>
							</th>
							<th>id</th>
							<th>权限名称</th>
							<th>权限路径</th>
							<th>权限描述</th>
							<th>权限创建时间</th>
							<!--<th>修改</th>-->
						</tr>
						</thead>

						<tbody>
						{foreach $permissions as $permission}
						<tr>
							<td class="center">
								<label>
									<input type="checkbox" class="ace" />
									<span class="lbl"></span>
								</label>
							</td>

							<td>
								<a href="#">{$permission.id}</a>
							</td>
							<td>{$permission.name}</td>
							<td>{$permission.path}</td>
							<td>{$permission.description}</td>
							<td>{$permission.create_time}</td>
							<!--<td>-->
								<!--<a href="">-->
									<!--<button class="btn btn-warning btn-xs">-->
										<!--<i class="icon-reply icon-only"></i>-->
									<!--</button>-->
								<!--</a>-->
							<!--</td>-->
							<!--<td>-->
								<!--<a href="">-->
									<!--<button class="btn btn-info btn-xs">-->
										<!--<i class="icon-edit bigger-120"></i>-->
									<!--</button>-->
								<!--</a>-->
							<!--</td>-->

						</tr>
						{/foreach}
						</tbody>
					</table>
				</div><!-- /.table-responsive -->
			</div><!-- /span -->
		</div><!-- /row -->	</div><!-- /.row -->
</div><!-- /.page-content -->
</div><!-- /.main-content -->

</div><!-- /.main-container-inner -->

<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
	<i class="icon-double-angle-up icon-only bigger-110"></i>
</a>
</div><!-- /.main-container -->


{/block}

{block name="js"}
<script type="text/javascript">
    jQuery(function($) {
        var oTable1 = $('#sample-table-2').dataTable( {
            "aoColumns": [
                { "bSortable": false },
                null, null,null, null, null,
                { "bSortable": false }
            ] } );


        $('table th input:checkbox').on('click' , function(){
            var that = this;
            $(this).closest('table').find('tr > td:first-child input:checkbox')
                .each(function(){
                    this.checked = that.checked;
                    $(this).closest('tr').toggleClass('selected');
                });

        });


        $('[data-rel="tooltip"]').tooltip({placement: tooltip_placement});
        function tooltip_placement(context, source) {
            var $source = $(source);
            var $parent = $source.closest('table')
            var off1 = $parent.offset();
            var w1 = $parent.width();

            var off2 = $source.offset();
            var w2 = $source.width();

            if( parseInt(off2.left) < parseInt(off1.left) + parseInt(w1 / 2) ) return 'right';
            return 'left';
        }
    })
</script>

{/block}